<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Polycystic Ovary Syndrome (PCOS)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #4A4A4A;
        }
        .lang-btn { transition: background-color 0.2s, color 0.2s; }
        .lang-btn.active { background-color: #D97706; color: white; }
        .goog-te-banner-frame.skiptranslate { display: none !important; } 
        body { top: 0px !important; }
        .goog-te-gadget-simple {
            background-color: white !important;
            border: 1px solid #FBBF24 !important;
            border-radius: 0.375rem !important;
            padding: 0.25rem 0.5rem !important;
            display: inline-block;
            cursor: pointer;
        }
        .goog-te-gadget-simple span, .goog-te-gadget-simple .goog-te-menu-value span {
            color: #92400E !important;
        }
        .goog-te-gadget-simple .goog-te-menu-value span:last-child { display: none; }
        .criteria-card {
            transition: all 0.3s ease;
        }
        .criteria-card.active {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-color: #FBBF24;
        }
        .treatment-tab {
            transition: all 0.3s ease;
        }
        .treatment-tab-content {
            display: none;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-amber-800" data-translate="app_title"></h1>
                </div>
                <div class="flex items-center">
                     <a href="../landing.html" class="text-sm font-medium text-amber-600 hover:text-amber-800" data-translate="back_to_main"></a>
                    <div id="lang-selector" class="flex items-center pl-4 shrink-0">
                        <div id="native-lang-toggle" class="flex items-center">
                            <div class="flex rounded-lg border border-gray-300 p-0.5">
                                <button id="lang-en" class="lang-btn px-3 py-1 text-sm font-semibold rounded-md">EN</button>
                                <button id="lang-es" class="lang-btn px-3 py-1 text-sm font-semibold rounded-md">ES</button>
                            </div>
                            <button id="show-google-translate" class="ml-2 p-2 rounded-lg border border-gray-300 bg-white hover:bg-gray-50">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m4.25 16l-4.25-4.25M19.5 19.5l-4.25-4.25M19.5 19.5l4.25-4.25M19.5 19.5l-4.25 4.25M12 3c-1.242 0-2.48.21-3.634.618m-4.242 4.242A8.964 8.964 0 003 12c0 1.242.21 2.48.618 3.634m4.242 4.242A8.964 8.964 0 0012 21c1.242 0 2.48-.21 3.634-.618m4.242-4.242A8.964 8.964 0 0021 12c0-1.242-.21-2.48-.618-3.634m-4.242-4.242A8.964 8.964 0 0012 3z" /></svg>
                            </button>
                        </div>
                        <div id="google-lang-toggle" class="hidden items-center">
                            <div id="google_translate_element"></div>
                            <button id="back-to-native" class="ml-2 text-sm font-semibold text-amber-600 hover:underline" data-translate="back_button"></button>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="text-center mb-8">
            <h2 class="text-4xl font-bold text-amber-900 mb-2" data-translate="main_title"></h2>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto" data-translate="subtitle"></p>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h3 class="text-2xl font-semibold mb-4 text-center text-amber-800" data-translate="diagnosis_title"></h3>
            <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto" data-translate="diagnosis_p1"></p>
            <div id="criteria-cards" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Diagnostic criteria cards will be inserted here -->
            </div>
            <div id="criteria-details" class="mt-6 p-4 bg-gray-50 rounded-lg min-h-[100px]">
                <p class="text-gray-500" data-translate="criteria_select"></p>
            </div>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h3 class="text-2xl font-semibold mb-6 text-center text-amber-800" data-translate="symptoms_title"></h3>
            <div id="symptoms-container" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </div>
        
        <div class="grid md:grid-cols-2 gap-8 mb-8">
            <div class="bg-teal-50 p-6 rounded-lg shadow-md">
                <h3 class="text-2xl font-semibold mb-4 text-teal-800" data-translate="risk_factors_title"></h3>
                <p class="text-teal-700 mb-4" data-translate="risk_factors_p1"></p>
                <ul class="list-disc list-inside text-teal-700 space-y-2 text-sm">
                    <li data-translate="risk_factors_li1"></li>
                    <li data-translate="risk_factors_li2"></li>
                </ul>
            </div>
            <div class="bg-red-50 p-6 rounded-lg shadow-md">
                <h3 class="text-2xl font-semibold mb-4 text-center text-red-800" data-translate="risks_title"></h3>
                <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto" data-translate="risks_p1"></p>
                <div class="grid grid-cols-1 gap-4">
                    <div>
                        <h4 class="font-bold text-xl mb-3 text-red-800" data-translate="risks_metabolic_title"></h4>
                        <ul class="list-disc list-inside text-red-700 space-y-2 text-sm">
                            <li data-translate="risks_metabolic_li1"></li>
                            <li data-translate="risks_metabolic_li2"></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-xl mb-3 text-purple-800" data-translate="risks_other_title"></h4>
                        <ul class="list-disc list-inside text-purple-700 space-y-2 text-sm">
                            <li data-translate="risks_other_li1"></li>
                            <li data-translate="risks_other_li2"></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="text-2xl font-semibold mb-4 text-center text-amber-800" data-translate="treatment_title"></h3>
            <div class="flex flex-wrap justify-center mb-6 border-b border-gray-200">
                <button class="treatment-tab px-4 py-3 font-semibold border-b-2" data-tab="lifestyle"></button>
                <button class="treatment-tab px-4 py-3 font-semibold border-b-2" data-tab="periods"></button>
                <button class="treatment-tab px-4 py-3 font-semibold border-b-2" data-tab="symptoms"></button>
                <button class="treatment-tab px-4 py-3 font-semibold border-b-2" data-tab="fertility"></button>
            </div>
            <div id="treatment-content"></div>
        </div>

    </main>

    <footer class="mt-12 py-8 bg-amber-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center text-xs text-amber-700">
            <p class="font-bold mb-2" data-translate="footer_disclaimer_title"></p>
            <p data-translate="footer_disclaimer_p1"></p>
            <p class="mt-2" data-translate="footer_disclaimer_p2"></p>
        </div>
    </footer>

    <script type="text/javascript">
        function googleTranslateElementInit() {
          new google.translate.TranslateElement({
            pageLanguage: 'en',
            includedLanguages: 'en,es,zh-CN,hi,ar,fr,ru,pt,bn,de,ja,id,tr,ko,vi,it,pl,nl,th,el,sv,iw,fa,ro,uk,ur,sw,tl,ms,ha',
            layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
            autoDisplay: false
          }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            let currentLanguage = 'en';
            const nativeLangToggle = document.getElementById('native-lang-toggle');
            const googleLangToggle = document.getElementById('google-lang-toggle');
            const showGoogleTranslateBtn = document.getElementById('show-google-translate');
            const backToNativeBtn = document.getElementById('back-to-native');

            const translations = {
                en: {
                    app_title: "PCOS",
                    back_to_main: "‚Üê Back to Main Guide",
                    back_button: "Back",
                    main_title: "Understanding Polycystic Ovary Syndrome (PCOS)",
                    subtitle: "PCOS is a common hormonal and metabolic condition that affects women of reproductive age. It's more than just a 'period problem'‚Äîit's a lifelong health condition that requires management.",
                    
                    diagnosis_title: "How is PCOS Diagnosed?",
                    diagnosis_p1: "A diagnosis is made when you have at least two of the following three key features, after other conditions are ruled out. Click a card to learn more.",
                    criteria_select: "Select a criterion above for more details.",
                    criteria_periods_name: "Irregular Periods",
                    criteria_periods_desc: "This is the most common sign. It means you don't ovulate regularly, leading to infrequent, irregular, or prolonged menstrual cycles.",
                    criteria_androgen_name: "Excess Androgens",
                    criteria_androgen_desc: "High levels of 'male' hormones can be confirmed by a blood test or by physical signs like excess facial/body hair (hirsutism), severe acne, and male-pattern baldness.",
                    criteria_ovaries_name: "Polycystic Ovaries",
                    criteria_ovaries_desc: "On an ultrasound, the ovaries may be enlarged and contain numerous small follicles. It's important to note that these are not true cysts and their presence alone doesn't mean you have PCOS.",

                    symptoms_title: "Common Signs and Symptoms",
                    symptom_periods_name: "Irregular Periods", symptom_periods_desc: "Fewer than 8-9 periods a year or unpredictable cycles.",
                    symptom_hirsutism_name: "Excess Hair Growth", symptom_hirsutism_desc: "Unwanted hair on the face, chin, chest, or back.",
                    symptom_acne_name: "Severe Acne", symptom_acne_desc: "Especially on the face, chest, and upper back that persists past teenage years.",
                    symptom_hair_loss_name: "Hair Loss", symptom_hair_loss_desc: "Thinning hair on the scalp, similar to male-pattern baldness.",
                    symptom_weight_gain_name: "Weight Gain", symptom_weight_gain_desc: "Difficulty losing weight, often with weight concentrated around the abdomen.",
                    symptom_skin_darkening_name: "Dark Skin Patches", symptom_skin_darkening_desc: "Patches of dark, velvety skin (acanthosis nigricans) in body folds like the neck or armpits.",
                    
                    risk_factors_title: "Risk Factors for PCOS",
                    risk_factors_p1: "The exact cause of PCOS is unknown, but certain factors are known to increase your risk.",
                    risk_factors_li1: "<strong>Genetics:</strong> PCOS often runs in families. If your mother or sister has PCOS, you are more likely to have it.",
                    risk_factors_li2: "<strong>Insulin Resistance & Obesity:</strong> These are closely linked. Insulin resistance can lead to weight gain, and excess weight can make insulin resistance worse, creating a vicious cycle that drives PCOS symptoms.",

                    risks_title: "Long-Term Health Risks",
                    risks_p1: "PCOS is a systemic metabolic condition. The underlying hormonal and insulin imbalances increase the risk for other serious health problems.",
                    risks_metabolic_title: "Metabolic Risks",
                    risks_metabolic_li1: "<strong>Type 2 Diabetes:</strong> Over half of women with PCOS develop diabetes or prediabetes before age 40.",
                    risks_metabolic_li2: "<strong>Heart Disease:</strong> Higher risk of high blood pressure, high cholesterol, and heart attack.",
                    risks_other_title: "Other Health Risks",
                    risks_other_li1: "<strong>Endometrial Cancer:</strong> Irregular periods can lead to a thickened uterine lining, increasing cancer risk.",
                    risks_other_li2: "<strong>Mental Health:</strong> Increased risk for anxiety, depression, and eating disorders.",

                    treatment_title: "Managing PCOS: A Lifelong Approach",
                    treatment_tab_lifestyle: "Lifestyle (Foundation)",
                    treatment_tab_periods: "Regulating Periods",
                    treatment_tab_symptoms: "Managing Symptoms",
                    treatment_tab_fertility: "Fertility",
                    treatment_lifestyle_p1: "Lifestyle management is the most important, first-line treatment for PCOS. Even a modest weight loss of 5-10% can dramatically improve symptoms and reduce long-term health risks.",
                    treatment_lifestyle_list: [
                        "<strong>Diet:</strong> Focus on a balanced diet with whole grains, lean proteins, and plenty of fruits and vegetables. Limiting processed foods and sugary drinks can help manage insulin resistance.",
                        "<strong>Exercise:</strong> Aim for at least 150 minutes of moderate-intensity activity (like brisk walking) per week. Incorporating strength training is also beneficial."
                    ],
                    treatment_periods_p1: "For women not trying to conceive, regulating the menstrual cycle is important to reduce the risk of endometrial cancer.",
                    treatment_periods_list: [
                        "<strong>Hormonal Contraceptives:</strong> Birth control pills, the patch, or the ring can regulate hormones, leading to predictable monthly periods."
                    ],
                    treatment_symptoms_p1: "Specific symptoms can be targeted with medication.",
                    treatment_symptoms_list: [
                        "<strong>Anti-androgen Medications:</strong> Drugs like spironolactone can help reduce the effects of high androgens, such as excess hair growth and acne.",
                        "<strong>Insulin-Sensitizing Agents:</strong> Metformin can improve insulin resistance, which may help with weight management and restore ovulation."
                    ],
                    treatment_fertility_p1: "PCOS is a common but treatable cause of infertility.",
                    treatment_fertility_list: [
                        "<strong>Lifestyle Changes:</strong> Weight loss is often the first and most effective step.",
                        "<strong>Ovulation Induction:</strong> Medications like letrozole or clomiphene can be prescribed to help you ovulate regularly."
                    ],

                    footer_disclaimer_title: "Disclaimer",
                    footer_disclaimer_p1: "The information provided in this guide is for educational purposes only and is not intended as a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of your physician or other qualified health provider with any questions you may have regarding a medical condition.",
                    footer_disclaimer_p2: "Source Material: Content is adapted from reputable sources including the <a href='https://www.acog.org/womens-health/faqs/polycystic-ovary-syndrome-pcos' target='_blank' class='underline hover:text-amber-800'>American College of Obstetricians and Gynecologists (ACOG)</a> and the <a href='https://www.pcosaa.org/' target='_blank' class='underline hover:text-amber-800'>PCOS Awareness Association</a>."
                },
                es: {
                    app_title: "SOP",
                    back_to_main: "‚Üê Volver a la Gu√≠a Principal",
                    back_button: "Volver",
                    main_title: "Entendiendo el S√≠ndrome de Ovario Poliqu√≠stico (SOP)",
                    subtitle: "El SOP es una condici√≥n hormonal y metab√≥lica com√∫n que afecta a las mujeres en edad reproductiva. Es m√°s que un 'problema de per√≠odo': es una condici√≥n de salud de por vida que requiere manejo.",
                    
                    diagnosis_title: "¬øC√≥mo se Diagnostica el SOP?",
                    diagnosis_p1: "El diagn√≥stico se realiza cuando se tienen al menos dos de las siguientes tres caracter√≠sticas clave, despu√©s de descartar otras condiciones. Haga clic en una tarjeta para saber m√°s.",
                    criteria_select: "Seleccione un criterio arriba para m√°s detalles.",
                    criteria_periods_name: "Per√≠odos Irregulares",
                    criteria_periods_desc: "Este es el signo m√°s com√∫n. Significa que no ovula regularmente, lo que lleva a ciclos menstruales infrecuentes, irregulares o prolongados.",
                    criteria_androgen_name: "Exceso de Andr√≥genos",
                    criteria_androgen_desc: "Niveles altos de hormonas 'masculinas' pueden confirmarse con un an√°lisis de sangre o por signos f√≠sicos como exceso de vello facial/corporal (hirsutismo), acn√© severo y calvicie de patr√≥n masculino.",
                    criteria_ovaries_name: "Ovarios Poliqu√≠sticos",
                    criteria_ovaries_desc: "En una ecograf√≠a, los ovarios pueden estar agrandados y contener numerosos fol√≠culos peque√±os. Es importante notar que estos no son quistes verdaderos y su presencia por s√≠ sola no significa que tenga SOP.",

                    symptoms_title: "Signos y S√≠ntomas Comunes",
                    symptom_periods_name: "Per√≠odos Irregulares", symptom_periods_desc: "Menos de 8-9 per√≠odos al a√±o o ciclos impredecibles.",
                    symptom_hirsutism_name: "Crecimiento Excesivo de Vello", symptom_hirsutism_desc: "Vello no deseado en la cara, barbilla, pecho o espalda.",
                    symptom_acne_name: "Acn√© Severo", symptom_acne_desc: "Especialmente en la cara, pecho y parte superior de la espalda que persiste m√°s all√° de la adolescencia.",
                    symptom_hair_loss_name: "P√©rdida de Cabello", symptom_hair_loss_desc: "Adelgazamiento del cabello en el cuero cabelludo, similar a la calvicie de patr√≥n masculino.",
                    symptom_weight_gain_name: "Aumento de Peso", symptom_weight_gain_desc: "Dificultad para perder peso, a menudo con el peso concentrado alrededor del abdomen.",
                    symptom_skin_darkening_name: "Manchas Oscuras en la Piel", symptom_skin_darkening_desc: "Manchas de piel oscura y aterciopelada (acantosis nigricans) en pliegues del cuerpo como el cuello o las axilas.",
                    
                    risk_factors_title: "Factores de Riesgo para el SOP",
                    risk_factors_p1: "La causa exacta del SOP es desconocida, pero se sabe que ciertos factores aumentan el riesgo.",
                    risk_factors_li1: "<strong>Gen√©tica:</strong> El SOP a menudo es hereditario. Si su madre o hermana tiene SOP, es m√°s probable que usted lo tenga.",
                    risk_factors_li2: "<strong>Resistencia a la Insulina y Obesidad:</strong> Est√°n estrechamente relacionadas. La resistencia a la insulina puede llevar al aumento de peso, y el exceso de peso puede empeorar la resistencia a la insulina, creando un c√≠rculo vicioso que impulsa los s√≠ntomas del SOP.",

                    risks_title: "Riesgos de Salud a Largo Plazo",
                    risks_p1: "El SOP es una condici√≥n metab√≥lica sist√©mica. Los desequilibrios hormonales y de insulina subyacentes aumentan el riesgo de otros problemas de salud graves.",
                    risks_metabolic_title: "Riesgos Metab√≥licos",
                    risks_metabolic_li1: "<strong>Diabetes Tipo 2:</strong> M√°s de la mitad de las mujeres con SOP desarrollan diabetes o prediabetes antes de los 40 a√±os.",
                    risks_metabolic_li2: "<strong>Enfermedad Card√≠aca:</strong> Mayor riesgo de presi√≥n arterial alta, colesterol alto y ataque card√≠aco.",
                    risks_other_title: "Otros Riesgos de Salud",
                    risks_other_li1: "<strong>C√°ncer de Endometrio:</strong> Los per√≠odos irregulares pueden llevar a un engrosamiento del revestimiento uterino, aumentando el riesgo de c√°ncer.",
                    risks_other_li2: "<strong>Salud Mental:</strong> Mayor riesgo de ansiedad, depresi√≥n y trastornos alimentarios.",

                    treatment_title: "Manejando el SOP: Un Enfoque de por Vida",
                    treatment_tab_lifestyle: "Estilo de Vida (Base)",
                    treatment_tab_periods: "Regular Per√≠odos",
                    treatment_tab_symptoms: "Manejar S√≠ntomas",
                    treatment_tab_fertility: "Fertilidad",
                    treatment_lifestyle_p1: "El manejo del estilo de vida es el tratamiento de primera l√≠nea m√°s importante para el SOP. Incluso una p√©rdida de peso modesta del 5-10% puede mejorar dr√°sticamente los s√≠ntomas y reducir los riesgos de salud a largo plazo.",
                    treatment_lifestyle_list: [
                        "<strong>Dieta:</strong> Conc√©ntrese en una dieta balanceada con granos integrales, prote√≠nas magras y muchas frutas y verduras. Limitar los alimentos procesados y las bebidas azucaradas puede ayudar a controlar la resistencia a la insulina.",
                        "<strong>Ejercicio:</strong> Intente hacer al menos 150 minutos de actividad de intensidad moderada (como caminar a paso ligero) por semana. Incorporar entrenamiento de fuerza tambi√©n es beneficioso."
                    ],
                    treatment_periods_p1: "Para las mujeres que no intentan concebir, regular el ciclo menstrual es importante para reducir el riesgo de c√°ncer de endometrio.",
                    treatment_periods_list: [
                        "<strong>Anticonceptivos Hormonales:</strong> Las p√≠ldoras anticonceptivas, el parche o el anillo pueden regular las hormonas, lo que lleva a per√≠odos mensuales predecibles."
                    ],
                    treatment_symptoms_p1: "Los s√≠ntomas espec√≠ficos se pueden tratar con medicamentos.",
                    treatment_symptoms_list: [
                        "<strong>Medicamentos Antiandr√≥genos:</strong> F√°rmacos como la espironolactona pueden ayudar a reducir los efectos de los andr√≥genos altos, como el exceso de vello y el acn√©.",
                        "<strong>Agentes Sensibilizadores a la Insulina:</strong> La metformina puede mejorar la resistencia a la insulina, lo que puede ayudar con el control del peso y restaurar la ovulaci√≥n."
                    ],
                    treatment_fertility_p1: "El SOP es una causa com√∫n pero tratable de infertilidad.",
                    treatment_fertility_list: [
                        "<strong>Cambios en el Estilo de Vida:</strong> La p√©rdida de peso suele ser el primer y m√°s efectivo paso.",
                        "<strong>Inducci√≥n de la Ovulaci√≥n:</strong> Se pueden recetar medicamentos como letrozol o clomifeno para ayudarla a ovular regularmente."
                    ],

                    footer_disclaimer_title: "Descargo de Responsabilidad",
                    footer_disclaimer_p1: "La informaci√≥n proporcionada en esta gu√≠a es solo para fines educativos y no pretende ser un sustituto del consejo, diagn√≥stico o tratamiento m√©dico profesional. Siempre busque el consejo de su m√©dico u otro proveedor de salud calificado con cualquier pregunta que pueda tener sobre una condici√≥n m√©dica.",
                    footer_disclaimer_p2: "Material de Origen: El contenido est√° adaptado de fuentes acreditadas como el <a href='https://www.acog.org/womens-health/faqs/polycystic-ovary-syndrome-pcos' target='_blank' class='underline hover:text-amber-800'>Colegio Americano de Obstetras y Ginec√≥logos (ACOG)</a> y la <a href='https://www.pcosaa.org/' target='_blank' class='underline hover:text-amber-800'>Asociaci√≥n de Concientizaci√≥n sobre el SOP</a>."
                }
            };

            const symptomData = [
                { id: 'periods', icon: 'üóìÔ∏è' }, { id: 'hirsutism', icon: 'üßî‚Äç‚ôÄÔ∏è' },
                { id: 'acne', icon: 'üò•' }, { id: 'hair_loss', icon: 'üë±‚Äç‚ôÄÔ∏è' },
                { id: 'weight_gain', icon: '‚öñÔ∏è' }, { id: 'skin_darkening', icon: '‚úãüèø' }
            ];

            const criteriaData = [
                { id: 'periods', icon: 'üóìÔ∏è', color: 'blue' },
                { id: 'androgen', icon: 'üí™', color: 'green' },
                { id: 'ovaries', icon: 'ü•ö', color: 'purple' }
            ];
            const treatmentData = ['lifestyle', 'periods', 'symptoms', 'fertility'];

            const changeLanguage = (lang) => {
                currentLanguage = lang;
                document.documentElement.lang = lang;
                document.getElementById('lang-en').classList.toggle('active', lang === 'en');
                document.getElementById('lang-es').classList.toggle('active', lang === 'es');
                renderContent();
            };

            const renderContent = () => {
                const t = translations[currentLanguage];
                document.querySelectorAll('[data-translate]').forEach(el => {
                    const key = el.dataset.translate;
                    if (t[key]) el.innerHTML = t[key];
                });
                renderSymptoms();
                renderCriteriaCards();
                renderTreatments();
                switchTab('lifestyle');
            };

            const renderSymptoms = () => {
                const t = translations[currentLanguage];
                const container = document.getElementById('symptoms-container');
                container.innerHTML = symptomData.map(symptom => `
                    <div class="bg-gray-50 p-4 rounded-lg flex items-start space-x-4">
                        <span class="text-3xl">${symptom.icon}</span>
                        <div>
                            <h4 class="font-bold text-lg text-gray-800">${t[`symptom_${symptom.id}_name`]}</h4>
                            <p class="text-sm text-gray-600">${t[`symptom_${symptom.id}_desc`]}</p>
                        </div>
                    </div>
                `).join('');
            };

            const renderCriteriaCards = () => {
                const t = translations[currentLanguage];
                const container = document.getElementById('criteria-cards');
                container.innerHTML = criteriaData.map(item => `
                    <div class="criteria-card p-4 bg-${item.color}-50 rounded-lg shadow-sm cursor-pointer border-2 border-transparent hover:border-${item.color}-300 flex flex-col items-center text-center" data-criteria="${item.id}">
                        <span class="text-4xl mb-2">${item.icon}</span>
                        <h5 class="font-bold text-md text-${item.color}-800">${t[`criteria_${item.id}_name`]}</h5>
                    </div>
                `).join('');

                const criteriaCards = document.querySelectorAll('.criteria-card');
                const detailsContainer = document.getElementById('criteria-details');
                
                criteriaCards.forEach(card => {
                    card.addEventListener('click', () => {
                        const criteriaId = card.dataset.criteria;
                        criteriaCards.forEach(c => c.classList.remove('active'));
                        card.classList.add('active');
                        
                        detailsContainer.innerHTML = `
                            <h4 class="font-bold text-lg mb-2 text-amber-800">${t[`criteria_${criteriaId}_name`]}</h4>
                            <p class="text-sm text-gray-700">${t[`criteria_${criteriaId}_desc`]}</p>
                        `;
                    });
                });
                if(criteriaCards.length > 0) {
                    criteriaCards[0].click();
                }
            };

            const renderTreatments = () => {
                const t = translations[currentLanguage];
                const container = document.getElementById('treatment-content');
                let contentHtml = '';
                treatmentData.forEach(tab => {
                    let listItems = '';
                    if (t[`treatment_${tab}_list`]) {
                         listItems = t[`treatment_${tab}_list`].map(item => `<li>${item}</li>`).join('');
                    }
                    contentHtml += `
                        <div id="content-${tab}" class="treatment-tab-content p-4">
                            <p class="mb-4">${t[`treatment_${tab}_p1`]}</p>
                            ${listItems ? `<ul class="list-disc list-inside space-y-2">${listItems}</ul>` : ''}
                        </div>
                    `;
                });
                container.innerHTML = contentHtml;
            };

            const treatmentTabs = document.querySelectorAll('.treatment-tab');
            const switchTab = (tabId) => {
                const t = translations[currentLanguage];
                const tabContents = document.querySelectorAll('.treatment-tab-content');
                treatmentTabs.forEach(tab => {
                    const isActive = tab.dataset.tab === tabId;
                    tab.textContent = t[`treatment_tab_${tab.dataset.tab}`];
                    tab.classList.toggle('border-amber-500', isActive);
                    tab.classList.toggle('text-amber-600', isActive);
                    tab.classList.toggle('border-transparent', !isActive);
                    tab.classList.toggle('text-gray-500', !isActive);
                });
                tabContents.forEach(content => {
                    content.style.display = content.id === `content-${tabId}` ? 'block' : 'none';
                });
            };
            treatmentTabs.forEach(tab => {
                tab.addEventListener('click', () => switchTab(tab.dataset.tab));
            });
            
            document.getElementById('lang-en').addEventListener('click', () => changeLanguage('en'));
            document.getElementById('lang-es').addEventListener('click', () => changeLanguage('es'));
            
            showGoogleTranslateBtn.addEventListener('click', () => {
                nativeLangToggle.classList.add('hidden');
                googleLangToggle.classList.remove('hidden');
                googleLangToggle.classList.add('flex');
            });

            backToNativeBtn.addEventListener('click', () => {
                nativeLangToggle.classList.remove('hidden');
                googleLangToggle.classList.add('hidden');
                googleLangToggle.classList.remove('flex');
                const currentGoogleLang = document.querySelector('.goog-te-gadget-simple .goog-te-menu-value span').innerText.toLowerCase();
                if (currentGoogleLang !== 'english') {
                    const langSelect = document.querySelector('.goog-te-gadget-simple');
                    langSelect.value = 'en';
                    langSelect.dispatchEvent(new Event('change'));
                }
                changeLanguage(currentLanguage);
            });

            changeLanguage('en');
        });
    </script>
</body>
</html>
